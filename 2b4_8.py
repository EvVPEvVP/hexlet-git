### Шаг 4: Создание формальных спецификаций АТД (проектирование):

1. Игровой движок (Game Engine Cluster):
   - GameEngine: Класс поведения, фиксирующий общее поведение игрового движка. Включает базовые методы для управления игровым процессом.
   - GameState: Класс, представляющий состояние игры. Хранит информацию о текущей фазе хода, здоровье магов и другие основные параметры.

2. Магия и Карты (Magic and Cards Cluster):
   - Mage: Класс поведения, определяющий общие методы для управления характеристиками мага и принятия решений в дуэли.
   - Deck: Класс поведения, определяющий базовые методы для управления колодой магических карт.
   - Card: Абстрактный класс, представляющий общую структуру для различных типов магических карт.
   - CardEffect: Абстрактный класс, описывающий общий интерфейс для эффектов карт.

3. Управление Игровым Процессом (Game Process Management Cluster):
   - TurnPhase: Класс поведения, определяющий общие методы для фаз хода в игре.
   - GameController: Класс поведения, фиксирующий общее управление игровым процессом, включая инициализацию, обработку ходов и взаимодействие с игроком.

4. Визуализация и Интерфейс Пользователя (UI and User Interface Cluster):
   - UI: Абстрактный класс, представляющий общую структуру для визуализации игрового процесса и взаимодействия с пользователем.

5. Построение и Редактирование Колоды (Deck Building Cluster):
   - DeckBuilder: Класс поведения, определяющий методы для построения и редактирования колоды магических карт.

### Шаг 5: Уточнение формальных спецификаций АТД (проектирование):

1. Игровой движок (Game Engine Cluster):
   - GameEngine: 
     - Запросы:
       - startGame(): Начинает новую игру.
       - endGame(): Завершает текущую игру.
       - getGameState(): Возвращает текущее состояние игры (включая GameState).
     - Команды:
       - initiateGame(): Инициирует начало игры с необходимыми параметрами.
       - processTurn(): Обрабатывает ход в текущей фазе.

2. Магия и Карты (Magic and Cards Cluster):
   - Mage:
     - Запросы:
       - getHealth(): Возвращает текущее здоровье мага.
       - getMana(): Возвращает текущее количество маны.
     - Команды:
       - castSpell(spell): Производит заклинание с указанным эффектом.
       - takeDamage(amount): Наносит урон магу.
   - Deck:
     - Запросы:
       - viewDeck(): Возвращает текущий состав колоды.
       - getCardByID(cardID): Возвращает карту по её идентификатору.
     - Команды:
       - addCardToDeck(card): Добавляет карту в колоду.
       - removeCardFromDeck(card): Удаляет карту из колоды.
   - Card:
     - Запросы:
       - getType(): Возвращает тип карты (магия, существо, ресурс и т. д.).
       - getAttributes(): Возвращает атакующие и защитные свойства карты.
   - CardEffect:
     - Команды:
       - applyEffect(target): Применяет эффект карты к указанной цели.

3. Управление Игровым Процессом (Game Process Management Cluster):
   - TurnPhase:
     - Запросы:
       - getCurrentPhase(): Возвращает текущую фазу хода.
       - getAvailableActions(): Возвращает доступные действия в текущей фазе.
     - Команды:
       - proceedToNextPhase(): Переходит к следующей фазе хода.
   - GameController:
     - Запросы:
       - getPlayerInput(): Получает ввод от игрока для текущего хода.
       - checkForWinner(): Проверяет, есть ли победитель.
     - Команды:
       - initializeGame(): Инициализирует начало игры.
       - processPlayerTurn(): Обрабатывает ход игрока.

4. Визуализация и Интерфейс Пользователя (UI and User Interface Cluster):
   - UI:
     - Запросы:
       - displayGameBoard(): Отображает игровое поле.
       - getUserInput(): Получает ввод пользователя.
     - Команды:
       - updateUI(): Обновляет интерфейс в соответствии с текущим состоянием игры.

5. Построение и Редактирование Колоды (Deck Building Cluster):
   - DeckBuilder:
     - Запросы:
       - getAvailableCards(): Возвращает доступные карты для построения колоды.
       - getCurrentDeck(): Возвращает текущую составленную колоду.
     - Команды:
       - addCardToDeck(card): Добавляет карту в текущую колоду.
       - removeCardFromDeck(card): Удаляет карту из текущей колоды.

